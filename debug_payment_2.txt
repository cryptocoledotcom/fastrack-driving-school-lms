
Running 3 tests using 1 worker

[1A[2K[1/3] [chromium] Î“Ã‡â•‘ tests\e2e\payment-integration.spec.ts:79:5 Î“Ã‡â•‘ Payment Integration Î“Ã‡â•‘ should allow enrollment in free course without payment
[1A[2K  1) [chromium] Î“Ã‡â•‘ tests\e2e\payment-integration.spec.ts:79:5 Î“Ã‡â•‘ Payment Integration Î“Ã‡â•‘ should allow enrollment in free course without payment 

    Error: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.

      22 |         const paidCourseRef = db.collection('courses').doc();
      23 |         paidCourseId = paidCourseRef.id;
    > 24 |         await paidCourseRef.set({
         |                             ^
      25 |             title: paidCourseTitle,
      26 |             description: 'A premium driving course',
      27 |             category: 'Adult Remedial',
        at GoogleAuth.getApplicationDefaultAsync (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\google-auth-library\build\src\auth\googleauth.js:287:15)
        at GoogleAuth._GoogleAuth_determineClient (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\google-auth-library\build\src\auth\googleauth.js:834:32)
        at GoogleAuth.getClient (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\google-auth-library\build\src\auth\googleauth.js:698:20)
        at GrpcClient._getCredentials (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\google-gax\src\grpc.ts:209:20)
        at GrpcClient.createStub (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\google-gax\src\grpc.ts:426:19)
        at _firestore._traceUtil.startActiveSpan (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@google-cloud\firestore\build\src\write-batch.js:438:27)
        at C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@google-cloud\firestore\build\src\telemetry\enabled-trace-util.js:110:30
        at NoopContextManager.with (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@opentelemetry\api\src\context\NoopContextManager.ts:31:15)
        at ContextAPI.with (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@opentelemetry\api\src\api\context.ts:77:42)
        at NoopTracer.startActiveSpan (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@opentelemetry\api\src\trace\NoopTracer.ts:98:27)
        at ProxyTracer.startActiveSpan (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@opentelemetry\api\src\trace\ProxyTracer.ts:51:20)
        at EnabledTraceUtil.startActiveSpan (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@google-cloud\firestore\build\src\telemetry\enabled-trace-util.js:102:28)
        at WriteBatch.commit (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@google-cloud\firestore\build\src\write-batch.js:436:43)
        at C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@google-cloud\firestore\build\src\reference\document-reference.js:350:31
        at C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@google-cloud\firestore\build\src\telemetry\enabled-trace-util.js:110:30
        at NoopContextManager.with (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@opentelemetry\api\src\context\NoopContextManager.ts:31:15)
        at ContextAPI.with (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@opentelemetry\api\src\api\context.ts:77:42)
        at NoopTracer.startActiveSpan (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@opentelemetry\api\src\trace\NoopTracer.ts:98:27)
        at ProxyTracer.startActiveSpan (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@opentelemetry\api\src\trace\ProxyTracer.ts:51:20)
        at EnabledTraceUtil.startActiveSpan (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@google-cloud\firestore\build\src\telemetry\enabled-trace-util.js:102:28)
        at DocumentReference.set (C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\node_modules\@google-cloud\firestore\build\src\reference\document-reference.js:342:43)
        at C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\tests\e2e\payment-integration.spec.ts:24:29


[1A[2K[2/3] [chromium] Î“Ã‡â•‘ tests\e2e\payment-integration.spec.ts:105:5 Î“Ã‡â•‘ Payment Integration Î“Ã‡â•‘ should process payment for paid course
[1A[2K[3/3] [chromium] Î“Ã‡â•‘ tests\e2e\payment-integration.spec.ts:153:5 Î“Ã‡â•‘ Payment Integration Î“Ã‡â•‘ should validate billing fields
[1A[2K  1 failed
    [chromium] Î“Ã‡â•‘ tests\e2e\payment-integration.spec.ts:79:5 Î“Ã‡â•‘ Payment Integration Î“Ã‡â•‘ should allow enrollment in free course without payment 
  2 did not run

[36m  Serving HTML report at http://localhost:62734. Press Ctrl+C to quit.[39m
