
Running 1 test using 1 worker

[1A[2K[1/1] [chromium] ‚Ä∫ tests\e2e\payment-integration.spec.ts:122:5 ‚Ä∫ Payment Integration ‚Ä∫ should allow enrollment in free course without payment
[1A[2K[chromium] ‚Ä∫ tests\e2e\payment-integration.spec.ts:122:5 ‚Ä∫ Payment Integration ‚Ä∫ should allow enrollment in free course without payment
ADMIN BROWSER: [vite] connecting...

[1A[2KADMIN BROWSER: [vite] connected.

[1A[2KADMIN BROWSER: %cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools font-weight:bold

[1A[2KADMIN BROWSER: FIREBASE PROJECT ID: demo-test

[1A[2KADMIN BROWSER: üîß Connecting to Firebase Emulators...

[1A[2KADMIN BROWSER: WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.

[1A[2KADMIN BROWSER: ‚úÖ Connected to Emulators

[1A[2KADMIN BROWSER: ‚ö†Ô∏è Skipping App Check initialization for demo project

[1A[2KADMIN BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

[1A[2KADMIN BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[1A[2KADMIN BROWSER: You may test your Stripe.js integration over HTTP. However, live Stripe.js integrations must use HTTPS.

[1A[2KADMIN BROWSER: [2025-12-12T21:49:32.486Z]  @firebase/firestore: Firestore (12.6.0): WebChannelConnection RPC 'Listen' stream 0x307ccd80 transport errored. Name: undefined Message: undefined

[1A[2KADMIN BROWSER: Failed to extract JWT claims for cole-admin-seed: Firebase: Error (auth/network-request-failed).

[1A[2KADMIN BROWSER: Failed to extract JWT claims for cole-admin-seed: Firebase: Error (auth/network-request-failed).

[1A[2KADMIN BROWSER: [vite] connecting...

[1A[2KADMIN BROWSER: [vite] connected.

[1A[2KADMIN BROWSER: %cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools font-weight:bold

[1A[2KADMIN BROWSER: FIREBASE PROJECT ID: demo-test

[1A[2KADMIN BROWSER: üîß Connecting to Firebase Emulators...

[1A[2KADMIN BROWSER: WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.

[1A[2KADMIN BROWSER: ‚úÖ Connected to Emulators

[1A[2KADMIN BROWSER: ‚ö†Ô∏è Skipping App Check initialization for demo project

[1A[2KADMIN BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

[1A[2KADMIN BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[1A[2KADMIN BROWSER: You may test your Stripe.js integration over HTTP. However, live Stripe.js integrations must use HTTPS.

[1A[2KADMIN BROWSER: JWT custom claim found for cole-admin-seed: super_admin

[1A[2KADMIN BROWSER: [vite] connecting...

[1A[2KADMIN BROWSER: [vite] connected.

[1A[2KADMIN BROWSER: %cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools font-weight:bold

[1A[2KADMIN BROWSER: FIREBASE PROJECT ID: demo-test

[1A[2KADMIN BROWSER: üîß Connecting to Firebase Emulators...

[1A[2KADMIN BROWSER: WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.

[1A[2KADMIN BROWSER: ‚úÖ Connected to Emulators

[1A[2KADMIN BROWSER: ‚ö†Ô∏è Skipping App Check initialization for demo project

[1A[2KADMIN BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

[1A[2KADMIN BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[1A[2KADMIN BROWSER: You may test your Stripe.js integration over HTTP. However, live Stripe.js integrations must use HTTPS.

[1A[2KADMIN BROWSER: JWT custom claim found for cole-admin-seed: super_admin

[1A[2KSTUDENT BROWSER: [vite] connecting...

[1A[2KSTUDENT BROWSER: [vite] connected.

[1A[2KSTUDENT BROWSER: %cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools font-weight:bold

[1A[2KSTUDENT BROWSER: FIREBASE PROJECT ID: demo-test

[1A[2KSTUDENT BROWSER: üîß Connecting to Firebase Emulators...

[1A[2KSTUDENT BROWSER: WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.

[1A[2KSTUDENT BROWSER: ‚úÖ Connected to Emulators

[1A[2KSTUDENT BROWSER: ‚ö†Ô∏è Skipping App Check initialization for demo project

[1A[2KSTUDENT BROWSER: Returning MOCKED Courses for E2E testing

[1A[2KSTUDENT BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

[1A[2KSTUDENT BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[1A[2KSTUDENT BROWSER: Returning MOCKED Courses for E2E testing

[1A[2KSTUDENT BROWSER: You may test your Stripe.js integration over HTTP. However, live Stripe.js integrations must use HTTPS.

[1A[2KSTUDENT BROWSER: DEBUG: RegisterPage handleSubmit triggered

[1A[2KSTUDENT BROWSER: DEBUG: Calling auth.register from Page

[1A[2KSTUDENT BROWSER: DEBUG: Calling createUserWithEmailAndPassword {email: student-1765576170431@fastrack.com}

[1A[2KSTUDENT BROWSER: DEBUG: Auth successful, uid: RvmqkUXC7bvaOtkDSM3S011bNaM1

[1A[2KSTUDENT BROWSER: DEBUG: Creating Firestore profile for RvmqkUXC7bvaOtkDSM3S011bNaM1

[1A[2KSTUDENT BROWSER: DEBUG: createUserProfile start RvmqkUXC7bvaOtkDSM3S011bNaM1

[1A[2KSTUDENT BROWSER: DEBUG: setDoc calling...

[1A[2KSTUDENT BROWSER: DEBUG: setDoc complete

[1A[2KSTUDENT BROWSER: DEBUG: Profile created successfully

[1A[2KCURRENT URL: http://localhost:3000/dashboard

[1A[2KSTUDENT BROWSER: [vite] connecting...

[1A[2KSTUDENT BROWSER: [vite] connected.

[1A[2KSTUDENT BROWSER: %cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools font-weight:bold

[1A[2KSTUDENT BROWSER: FIREBASE PROJECT ID: demo-test

[1A[2KSTUDENT BROWSER: üîß Connecting to Firebase Emulators...

[1A[2KSTUDENT BROWSER: WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.

[1A[2KSTUDENT BROWSER: ‚úÖ Connected to Emulators

[1A[2KSTUDENT BROWSER: ‚ö†Ô∏è Skipping App Check initialization for demo project

[1A[2KSTUDENT BROWSER: Returning MOCKED Courses for E2E testing

[1A[2KSTUDENT BROWSER: Returning MOCKED Courses for E2E testing

[1A[2KSTUDENT BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

[1A[2KSTUDENT BROWSER: ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[1A[2KSTUDENT BROWSER: Returning MOCKED Courses for E2E testing

[1A[2KSTUDENT BROWSER: Returning MOCKED Courses for E2E testing

[1A[2KSTUDENT BROWSER: You may test your Stripe.js integration over HTTP. However, live Stripe.js integrations must use HTTPS.

[1A[2KSTUDENT BROWSER: Returning MOCKED Courses for E2E testing

[1A[2KVISIBLE COURSES: [
  [32m'Payment Free Course Mock'[39m,
  [32m'Payment Paid Course Mock'[39m,
  [32m'BMV Certified'[39m,
  [32m'Expert Instructors'[39m,
  [32m'Flexible Schedule'[39m,
  [32m'High Success Rate'[39m,
  [32m'Fastrack Driving School'[39m,
  [32m'Quick Links'[39m,
  [32m'Legal'[39m,
  [32m'Contact Us'[39m
]

[1A[2KSTUDENT BROWSER: {} {}

[1A[2KSTUDENT BROWSER: Returning MOCKED Courses for E2E testing

[1A[2KSTUDENT BROWSER: [COURSE_ERROR] Course not found null

[1A[2KSTUDENT BROWSER: Error loading details for course course-free-123: CourseError: Course not found
    at http://localhost:3000/src/api/courses/courseServices.js:59:13
    at async executeService (http://localhost:3000/src/api/base/ServiceWrapper.js:9:20)
    at async http://localhost:3000/src/pages/Dashboard/DashboardPage.jsx:60:39
    at async Promise.all (index 0)
    at async Array.<anonymous> (http://localhost:3000/src/pages/Dashboard/DashboardPage.jsx:52:42)

[1A[2K  1) [chromium] ‚Ä∫ tests\e2e\payment-integration.spec.ts:122:5 ‚Ä∫ Payment Integration ‚Ä∫ should allow enrollment in free course without payment 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('text=Payment Free Course Mock')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('text=Payment Free Course Mock')[22m


      194 |         // Verify Direct Enrollment
      195 |         await expect(page).toHaveURL('/dashboard');
    > 196 |         await expect(page.locator(`text=${freeCourseTitle}`)).toBeVisible();
          |                                                               ^
      197 |     });
      198 |
      199 |     test('should process payment for paid course', async ({ page }) => {
        at C:\Users\Cole\Documents\Antigravity Fastrack Workspace\Fastrack-Learning_Management-System\tests\e2e\payment-integration.spec.ts:196:63

    attachment #1: screenshot (image/png) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    test-results\payment-integration-Paymen-3589e-free-course-without-payment-chromium\test-failed-1.png
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    Error Context: test-results\payment-integration-Paymen-3589e-free-course-without-payment-chromium\error-context.md


[1A[2K  1 failed
    [chromium] ‚Ä∫ tests\e2e\payment-integration.spec.ts:122:5 ‚Ä∫ Payment Integration ‚Ä∫ should allow enrollment in free course without payment 

[36m  Serving HTML report at http://localhost:58051. Press Ctrl+C to quit.[39m
