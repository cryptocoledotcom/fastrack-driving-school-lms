
> fastrack-driving-school-lms@1.0.0 test
> vitest


[7m[1m[34m DEV [39m[22m[27m [34mv1.6.1[39m [90mc:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System[39m

 [32m‚úì[39m src/services/__tests__/loggingService.test.js [2m ([22m[2m50 tests[22m[2m)[22m[90m 47[2mms[22m[39m
 [32m‚úì[39m src/hooks/useBreakManagement.test.js [2m ([22m[2m42 tests[22m[2m)[22m[90m 50[2mms[22m[39m
 [32m‚úì[39m src/hooks/useSessionData.test.js [2m ([22m[2m45 tests[22m[2m)[22m[90m 62[2mms[22m[39m
 [33m‚ùØ[39m src/hooks/usePVQTrigger.test.js [2m ([22m[2m42 tests[22m [2m|[22m [31m2 failed[39m[2m)[22m[90m 66[2mms[22m[39m
[31m   [33m‚ùØ[31m src/hooks/usePVQTrigger.test.js[2m > [22musePVQTrigger Hook[2m > [22mPVQ Triggering Logic[2m > [22mshould calculate next PVQ trigger time with random offset[39m
[31m     ‚Üí expected 'import { useState, useCallback, useEf‚Ä¶' to contain '30 * 60'[39m
[31m   [33m‚ùØ[31m src/hooks/usePVQTrigger.test.js[2m > [22musePVQTrigger Hook[2m > [22mRandom Trigger Intervals[2m > [22mshould calculate offset within specified range[39m
[31m     ‚Üí expected 'import { useState, useCallback, useEf‚Ä¶' to contain '5 * 60'[39m
 [33m‚ùØ[39m src/api/base/__tests__/QueryHelper.test.js [2m ([22m[2m21 tests[22m [2m|[22m [31m21 failed[39m[2m)[22m[33m 304[2mms[22m[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mpaginate[2m > [22mshould retrieve first page with pagination metadata[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mpaginate[2m > [22mshould apply filters when provided[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mpaginate[2m > [22mshould apply ordering when provided[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mpaginate[2m > [22mshould indicate hasNextPage = true when total > pageSize[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mpaginate[2m > [22mshould throw ApiError on query failure[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetNextPage[2m > [22mshould retrieve next page using cursor[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetNextPage[2m > [22mshould throw error if lastVisible is null[39m
[31m     ‚Üí expected MockApiError{ ‚Ä¶(3) } to be an instance of ApiError[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetNextPage[2m > [22mshould indicate hasNextPage = false when fewer docs than pageSize returned[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetNextPage[2m > [22mshould throw ApiError on query failure[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetPageAtIndex[2m > [22mshould retrieve specific page by number[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetPageAtIndex[2m > [22mshould throw error if pageNumber < 1[39m
[31m     ‚Üí expected MockApiError{ ‚Ä¶(3) } to be an instance of ApiError[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetPageAtIndex[2m > [22mshould calculate correct skip count for pagination[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetPageAtIndex[2m > [22mshould have hasPreviousPage = false on first page[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetPageAtIndex[2m > [22mshould have hasNextPage = false on last page[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetPageAtIndex[2m > [22mshould throw ApiError on query failure[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetCollectionCount[2m > [22mshould return collection document count[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetCollectionCount[2m > [22mshould apply filters when provided[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetCollectionCount[2m > [22mshould throw ApiError on query failure[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mgetCollectionCount[2m > [22mshould return 0 for empty collection[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mIntegration scenarios[2m > [22mshould handle multiple filters correctly[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/QueryHelper.test.js[2m > [22mQueryHelper[2m > [22mIntegration scenarios[2m > [22mshould handle pagination chain: first -> next -> next[39m
[31m     ‚Üí firebaseFirestore.collection.mockReturnValue is not a function[39m
 [33m‚ùØ[39m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx [2m ([22m[2m32 tests[22m [2m|[22m [31m29 failed[39m[2m)[22m[33m 436[2mms[22m[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError handling[2m > [22mshould catch render errors from children[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError handling[2m > [22mshould display error message when error occurs[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError handling[2m > [22mshould call LoggingService.error when catching error[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError handling[2m > [22mshould log component stack to LoggingService[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError handling[2m > [22mshould set hasError state to true[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mDevelopment mode details[2m > [22mshould show error details button in development mode[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mDevelopment mode details[2m > [22mshould toggle error details on button click in development[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mDevelopment mode details[2m > [22mshould hide error details initially in development[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mDevelopment mode details[2m > [22mshould show/hide error stack on details button toggle[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mProduction mode[2m > [22mshould not show details button in production mode[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mProduction mode[2m > [22mshould not display technical error details in production[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mProduction mode[2m > [22mshould display user-friendly message in production[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mRecovery functionality[2m > [22mshould display Try Again button[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mRecovery functionality[2m > [22mshould reset error state when Try Again is clicked[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mRecovery functionality[2m > [22mshould clear error state when rendered with new props[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError information display[2m > [22mshould display error message in error details[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError information display[2m > [22mshould display error stack trace when available[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mMultiple error boundaries[2m > [22mshould handle nested error boundaries[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mMultiple error boundaries[2m > [22mshould isolate errors to inner boundary when nested[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError boundary edge cases[2m > [22mshould handle errors in deeply nested components[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError boundary edge cases[2m > [22mshould display error message even with multiple error boundaries[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mComponent props[2m > [22mshould accept fallback prop for custom error UI[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mComponent props[2m > [22mshould use fallback prop instead of default error UI[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError logging context[2m > [22mshould include error context in logging[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mError logging context[2m > [22mshould preserve error information for debugging[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mAccessibility[2m > [22mshould have proper ARIA roles for error container[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mAccessibility[2m > [22mshould have accessible button labels[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mStyling and appearance[2m > [22mshould apply error boundary container styles[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx[2m > [22mErrorBoundary[2m > [22mStyling and appearance[2m > [22mshould apply error container styles[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
 [33m‚ùØ[39m src/pages/Admin/__tests__/AdminPage.comprehensive.test.jsx [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/components/admin/tabs/__tests__/UserManagementTab.test.jsx [2m ([22m[2m28 tests[22m[2m)[22m[33m 1607[2mms[22m[39m
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould retry and eventually succeed[22m[39m
‚úÖ [test-operation] Succeeded on attempt 3/3

[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould handle async operations correctly[22m[39m
‚úÖ [async-operation] Succeeded on attempt 2/3

 [32m‚úì[39m src/api/admin/__tests__/userManagementServices.test.js [2m ([22m[2m26 tests[22m[2m)[22m[90m 152[2mms[22m[39m
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould use exponential backoff timing[22m[39m
‚úÖ [timed-operation] Succeeded on attempt 3/3

 [33m‚ùØ[39m src/api/base/__tests__/ServiceBase.test.js [2m ([22m[2m25 tests[22m [2m|[22m [31m22 failed[39m[2m)[22m[33m 566[2mms[22m[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetCurrentUser[2m > [22mshould return current user if authenticated[39m
[31m     ‚Üí User must be authenticated to perform this operation[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetCurrentUser[2m > [22mshould throw ApiError if not authenticated[39m
[31m     ‚Üí expected error to be instance of ApiError[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetCurrentUserId[2m > [22mshould return user UID when authenticated[39m
[31m     ‚Üí User must be authenticated to perform this operation[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetCurrentUserId[2m > [22mshould throw error when not authenticated[39m
[31m     ‚Üí expected error to be instance of ApiError[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetDoc[2m > [22mshould retrieve and format document[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetDoc[2m > [22mshould throw NOT_FOUND error if document missing[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetDoc[2m > [22mshould catch and map Firebase errors[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22msetDoc[2m > [22mshould set document data[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22msetDoc[2m > [22mshould handle Firebase errors[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mupdateDoc[2m > [22mshould update document[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mupdateDoc[2m > [22mshould validate updates before writing[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mdeleteDoc[2m > [22mshould delete document[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mdeleteDoc[2m > [22mshould handle Firebase errors[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mbatch[2m > [22mshould return batch instance[39m
[31m     ‚Üí firebaseFirestore.writeBatch.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mbatch[2m > [22mshould execute multiple operations[39m
[31m     ‚Üí firebaseFirestore.writeBatch.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mlog[2m > [22mshould use LoggingService for logging[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mlogError[2m > [22mshould log errors with service context[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mlogError[2m > [22mshould handle errors without code[39m
[31m     ‚Üí [vitest] No "default" export is defined on the "../../../services/loggingService.js" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetCollection[2m > [22mshould return formatted documents[39m
[31m     ‚Üí firebaseFirestore.getDocs.mockResolvedValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mgetCollection[2m > [22mshould apply filters correctly[39m
[31m     ‚Üí firebaseFirestore.getDocs.mockResolvedValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mError handling[2m > [22mshould throw ApiError for all operations[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/ServiceBase.test.js[2m > [22mServiceBase[2m > [22mError handling[2m > [22mshould not double-wrap ApiErrors[39m
[31m     ‚Üí firebaseFirestore.doc.mockReturnValue is not a function[39m
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mretryAsync convenience function[2m > [22m[2mshould work with default configuration[22m[39m
‚úÖ [test-operation] Succeeded on attempt 2/3

[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould handle temporary network failure[22m[39m
‚úÖ [fetchData] Succeeded on attempt 3/3

[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould recover from server temporarily unavailable[22m[39m
‚úÖ [submitForm] Succeeded on attempt 2/3

 [33m‚ùØ[39m src/api/base/__tests__/RetryHandler.test.js [2m ([22m[2m31 tests[22m [2m|[22m [31m9 failed[39m[2m)[22m[33m 986[2mms[22m[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mexecute[2m > [22mshould fail immediately for non-retryable errors[39m
[31m     ‚Üí expected 'UNAUTHENTICATED' to contain 'Invalid credentials'[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mexecute[2m > [22mshould throw after max attempts exhausted[39m
[31m     ‚Üí expected 'RETRY_EXHAUSTED' to contain 'failed after 3 attempts'[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mexecute[2m > [22mshould throw ApiError with context information[39m
[31m     ‚Üí expected 'RETRY_EXHAUSTED' to contain 'failed after 3 attempts'[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mexecute[2m > [22mshould validate operation parameter[39m
[31m     ‚Üí expected 'INVALID_OPERATION' to contain 'must be a function'[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mexecute[2m > [22mshould handle errors with message property[39m
[31m     ‚Üí expected 'RETRY_EXHAUSTED' to contain 'failed after 3 attempts'[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mexecute[2m > [22mshould log context in thrown error[39m
[31m     ‚Üí expected 'RETRY_EXHAUSTED' to contain 'myOperation'[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mretryAsync convenience function[2m > [22mshould throw after max attempts[39m
[31m     ‚Üí expected 'RETRY_EXHAUSTED' to contain 'failed after'[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mcreateRetryHandler factory[2m > [22mshould work with custom handler[39m
[31m     ‚Üí expected 'RETRY_EXHAUSTED' to contain 'failed after 2 attempts'[39m
[31m   [33m‚ùØ[31m src/api/base/__tests__/RetryHandler.test.js[2m > [22mRetryHandler[2m > [22mreal-world scenarios[2m > [22mshould fail fast on permission error[39m
[31m     ‚Üí expected 'PERMISSION_DENIED' to contain 'Access denied'[39m
 [32m‚úì[39m src/api/errors/__tests__/ApiError.test.js [2m ([22m[2m38 tests[22m[2m)[22m[90m 32[2mms[22m[39m
 [33m‚ùØ[39m src/components/admin/tabs/__tests__/AnalyticsTab.test.jsx [2m ([22m[2m30 tests[22m [2m|[22m [31m2 failed[39m[2m)[22m[33m 841[2mms[22m[39m
[31m   [33m‚ùØ[31m src/components/admin/tabs/__tests__/AnalyticsTab.test.jsx[2m > [22mAnalyticsTab[2m > [22mMini Stats[2m > [22mshould display average progress[39m
[31m     ‚Üí [2mexpect([22m[31mreceived[31m[2m).toBeInTheDocument()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[31m   [33m‚ùØ[31m src/components/admin/tabs/__tests__/AnalyticsTab.test.jsx[2m > [22mAnalyticsTab[2m > [22mMini Stats[2m > [22mshould display active students count[39m
[31m     ‚Üí [2mexpect([22m[31mreceived[31m[2m).toBeInTheDocument()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
 [33m‚ùØ[39m src/context/ModalContext.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/api/admin/__tests__/analyticsServices.test.js [2m ([22m[2m35 tests[22m[2m)[22m[90m 21[2mms[22m[39m
 [32m‚úì[39m src/components/admin/__tests__/SchedulingManagement.loadingIndicators.test.jsx [2m ([22m[2m16 tests[22m[2m)[22m[33m 2369[2mms[22m[39m
 [33m‚ùØ[39m src/api/enrollment/__tests__/enrollmentServices.concurrent.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/context/ModalContext.test.jsx [2m ([22m[2m19 tests[22m[2m)[22m[90m 180[2mms[22m[39m
 [33m‚ùØ[39m src/components/common/Quiz/Quiz.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/hooks/useSessionTimer.test.js [2m ([22m[2m26 tests[22m[2m)[22m[90m 40[2mms[22m[39m
 [32m‚úì[39m src/api/base/__tests__/CacheService.test.js [2m ([22m[2m32 tests[22m[2m)[22m[90m 35[2mms[22m[39m
 [32m‚úì[39m src/context/CourseContext.test.jsx [2m ([22m[2m18 tests[22m[2m)[22m[90m 160[2mms[22m[39m
 [33m‚ùØ[39m src/context/CourseContext.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/__tests__/firestore.rules.test.js [2m ([22m[2m25 tests[22m[2m)[22m[90m 13[2mms[22m[39m
 [32m‚úì[39m src/api/enrollment/__tests__/enrollmentServices.reset.test.js [2m ([22m[2m19 tests[22m[2m)[22m[90m 39[2mms[22m[39m
 [33m‚ùØ[39m src/pages/Admin/__tests__/AdminPage.userManagement.integration.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/api/enrollment/__tests__/enrollmentServices.refactor.test.js [2m ([22m[2m13 tests[22m[2m)[22m[90m 25[2mms[22m[39m
 [32m‚úì[39m src/context/AuthContext.test.jsx [2m ([22m[2m14 tests[22m[2m)[22m[90m 197[2mms[22m[39m
 [33m‚ùØ[39m src/components/admin/tabs/__tests__/UserManagementTab.createUser.integration.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [33m‚ùØ[39m src/context/AuthContext.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/constants/__tests__/userRoles.assignment.test.js [2m ([22m[2m35 tests[22m[2m)[22m[90m 14[2mms[22m[39m
 [32m‚úì[39m src/api/enrollment/__tests__/enrollmentServices.checkCourseAccess.test.js [2m ([22m[2m9 tests[22m[2m)[22m[90m 26[2mms[22m[39m
 [33m‚ùØ[39m src/components/auth/__tests__/ForcePasswordChangeModal.integration.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [33m‚ùØ[39m functions/src/compliance/sessionHeartbeat.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/api/student/__tests__/userServices.getAllStudents.test.js [2m ([22m[2m6 tests[22m[2m)[22m[90m 19[2mms[22m[39m
 [33m‚ùØ[39m src/pages/CoursePlayer/CoursePlayerPage.quiz.integration.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [33m‚ùØ[39m src/context/TimerContext.test.jsx [2m ([22m[2m30 tests[22m [2m|[22m [31m1 failed[39m[2m)[22m[33m 365[2mms[22m[39m
[31m   [33m‚ùØ[31m src/context/TimerContext.test.jsx[2m > [22mTimerContext Integration[2m > [22mSyntax and Structure[2m > [22mshould have no syntax errors[39m
[31m     ‚Üí expected [Function] to not throw an error but 'SyntaxError: Unexpected token \'<\'' was thrown[39m
 [33m‚ùØ[39m src/hooks/useComplianceHeartbeat.test.js [2m ([22m[2m6 tests[22m [2m|[22m [31m4 failed[39m[2m)[22m[90m 105[2mms[22m[39m
[31m   [33m‚ùØ[31m src/hooks/useComplianceHeartbeat.test.js[2m > [22museComplianceHeartbeat[2m > [22mshould call heartbeat function every 60 seconds[39m
[31m     ‚Üí Timed out in waitFor.

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[31m   [33m‚ùØ[31m src/hooks/useComplianceHeartbeat.test.js[2m > [22museComplianceHeartbeat[2m > [22mshould call onHeartbeatSuccess callback on successful heartbeat[39m
[31m     ‚Üí Timed out in waitFor.

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[31m   [33m‚ùØ[31m src/hooks/useComplianceHeartbeat.test.js[2m > [22museComplianceHeartbeat[2m > [22mshould call onLimitReached when daily limit is exceeded[39m
[31m     ‚Üí Timed out in waitFor.

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[31m   [33m‚ùØ[31m src/hooks/useComplianceHeartbeat.test.js[2m > [22museComplianceHeartbeat[2m > [22mshould call onHeartbeatError callback on error[39m
[31m     ‚Üí Timed out in waitFor.

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
 [32m‚úì[39m src/api/admin/__tests__/userManagementServices.createUserFunction.test.js [2m ([22m[2m9 tests[22m[2m)[22m[90m 27[2mms[22m[39m
 [32m‚úì[39m src/utils/__tests__/dateTimeFormatter.test.js [2m ([22m[2m11 tests[22m[2m)[22m[90m 8[2mms[22m[39m
 [33m‚ùØ[39m src/components/admin/__tests__/SchedulingManagement.assignment.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32m‚úì[39m src/api/compliance/__tests__/schedulingServices.assignment.test.js [2m ([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m

[2m Test Files [22m [1m[31m20 failed[39m[22m[2m | [22m[1m[32m22 passed[39m[22m[90m (42)[39m
[2m      Tests [22m [1m[31m90 failed[39m[22m[2m | [22m[1m[32m646 passed[39m[22m[90m (736)[39m
[2m   Start at [22m 12:12:02
[2m   Duration [22m 16.75s[2m (transform 2.66s, setup 19.76s, collect 8.34s, tests 8.79s, environment 58.68s, prepare 15.86s)[22m


[1m[7m[31m FAIL [39m[27m[22m[31m Tests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
