:root {
  /* ========================================= */
  /* 1. PRIMITIVE PALETTES (Source of Truth)   */
  /* ========================================= */
  
  /* Primary Brand (Deep Royal Plum) */
  --color-primary-50: #F8F6FA;
  --color-primary-100: #ECE8F3;
  --color-primary-200: #D8CFE7;
  --color-primary-300: #C3B5DB;
  --color-primary-400: #AF9BCE;
  --color-primary-500: #9B82C2;
  --color-primary-600: #7C5C9F;
  --color-primary-700: #5C3684; /* Main Brand Color */
  --color-primary-800: #482A68;
  --color-primary-900: #321D49;

  /* Secondary Brand (Jewel Teal) */
  --color-secondary-50: #ECFEFF;
  --color-secondary-100: #CFFAFE;
  --color-secondary-200: #A5F3FC;
  --color-secondary-300: #67E8F9;
  --color-secondary-400: #22D3EE;
  --color-secondary-500: #2BB8D4; /* Main Action Color */
  --color-secondary-600: #0891B2;
  --color-secondary-700: #0E7490;
  --color-secondary-800: #155E75;
  --color-secondary-900: #164E63;

  /* Neutrals (Cool Slate) */
  --color-white: #FFFFFF;
  --color-black: #000000;
  --color-gray-50: #F8FAFC;
  --color-gray-100: #F1F5F9;
  --color-gray-200: #E2E8F0;
  --color-gray-300: #CBD5E1;
  --color-gray-400: #94A3B8;
  --color-gray-500: #64748B;
  --color-gray-600: #475569;
  --color-gray-700: #334155;
  --color-gray-800: #1E293B;
  --color-gray-900: #0F172A; /* Deep Slate */
  --color-gray-950: #020617; /* Almost Black */

  /* Utility Colors */
  --color-info-500:    #0EA5E9; /* Sky Blue */
  --color-success-500: #10B981; /* Emerald */
  --color-warning-500: #F59E0B; /* Amber */
  --color-error-500:   #EF4444; /* Ruby */

  /* ========================================= */
  /* 2. SEMANTIC VARIABLES (Light Mode Default)*/
  /* ========================================= */

  /* Backgrounds */
  --bg-body: var(--color-gray-50);       /* Main page background */
  --bg-surface: var(--color-white);      /* Cards / Containers */
  --bg-footer: var(--color-gray-900);    /* Dark footer even in light mode */

  /* Text */
  --text-main: var(--color-gray-900);    /* Main reading text */
  --text-muted: var(--color-gray-500);   /* Secondary labels */
  --text-on-dark: var(--color-gray-100); /* Text inside the footer/dark buttons */

  /* Borders */
  --border-light: var(--color-gray-200); /* Subtle dividers */
  --border-strong: var(--color-gray-300);/* Inputs / Cards */

  /* Brand Usage */
  --brand-primary: var(--color-primary-700);  /* Purple for headers/logos */
  --brand-action: var(--color-secondary-500); /* Teal for buttons/links */
}

/* ========================================= */
/* 3. DARK MODE LOGIC                        */
/* ========================================= */

/* This defines the dark variables.
   We will use this set of variables in two places:
   1. When the OS requests dark mode.
   2. When the class .dark-mode is present.
*/
:root {
  /* Light Mode (Default) is already set in Section 2 */
}

/* Define the dark values in a reusable mixin concept */
/* We apply these values if:
   1. The user has the .dark-mode class (Manual Override)
   2. OR: The user has NO manual class, but prefers dark scheme (System Default)
*/

@media (prefers-color-scheme: dark) {
  :root:not(.light-mode) {
    --bg-body: var(--color-gray-900);
    --bg-surface: var(--color-gray-800);
    --bg-footer: var(--color-gray-950);

    --text-main: var(--color-gray-100);
    --text-muted: var(--color-gray-400);
    --text-on-dark: var(--color-gray-100);

    --border-light: var(--color-gray-800);
    --border-strong: var(--color-gray-700);

    --brand-primary: var(--color-primary-400); 
    --brand-action: var(--color-secondary-500); 
  }
}

/* FORCE DARK MODE (Triggered by your Settings Page) */
body.dark-mode {
    --bg-body: var(--color-gray-900);
    --bg-surface: var(--color-gray-800);
    --bg-footer: var(--color-gray-950);

    --text-main: var(--color-gray-100);
    --text-muted: var(--color-gray-400);
    --text-on-dark: var(--color-gray-100);

    --border-light: var(--color-gray-800);
    --border-strong: var(--color-gray-700);

    --brand-primary: var(--color-primary-400); 
    --brand-action: var(--color-secondary-500); 
}

/* FORCE LIGHT MODE (Override OS dark preference) */
body.light-mode {
    --bg-body: var(--color-gray-50);
    --bg-surface: var(--color-white);
    --bg-footer: var(--color-gray-900);

    --text-main: var(--color-gray-900);
    --text-muted: var(--color-gray-500);
    --text-on-dark: var(--color-gray-100);

    --border-light: var(--color-gray-200);
    --border-strong: var(--color-gray-300);

    --brand-primary: var(--color-primary-700);
    --brand-action: var(--color-secondary-500);
}