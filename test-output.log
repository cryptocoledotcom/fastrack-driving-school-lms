
> fastrack-driving-school-lms@1.0.0 test
> vitest --run


[7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90mc:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System[39m

 [32mâœ“[39m src/__tests__/firestore-rules-production.test.js [2m ([22m[2m57 tests[22m[2m)[22m[90m 13[2mms[22m[39m
[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould retry and eventually succeed[22m[39m
â±ï¸  [test-operation] Attempt 1/3 failed, retrying in 9ms: Network timeout

 [32mâœ“[39m src/hooks/useBreakManagement.test.js [2m ([22m[2m42 tests[22m[2m)[22m[90m 89[2mms[22m[39m
 [32mâœ“[39m src/api/errors/__tests__/ApiError.test.js [2m ([22m[2m38 tests[22m[2m)[22m[90m 82[2mms[22m[39m
 [32mâœ“[39m src/hooks/usePVQTrigger.test.js [2m ([22m[2m42 tests[22m[2m)[22m[90m 92[2mms[22m[39m
 [32mâœ“[39m src/api/base/__tests__/ServiceBase.test.js [2m ([22m[2m25 tests[22m[2m)[22m[90m 109[2mms[22m[39m
[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould retry and eventually succeed[22m[39m
â±ï¸  [test-operation] Attempt 2/3 failed, retrying in 18ms: Network timeout

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould retry and eventually succeed[22m[39m
<empty line>
 [32mâœ“[39m src/hooks/useSessionData.test.js [2m ([22m[2m45 tests[22m[2m)[22m[90m 108[2mms[22m[39m
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould retry and eventually succeed[22m[39m
âœ… [test-operation] Succeeded on attempt 3/3

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould fail immediately for non-retryable errors[22m[39m
âŒ [test-operation] Non-retryable error on attempt 1: Invalid credentials

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould throw after max attempts exhausted[22m[39m
â±ï¸  [test-operation] Attempt 1/3 failed, retrying in 10ms: Persistent network error

 [32mâœ“[39m src/api/base/__tests__/QueryHelper.test.js [2m ([22m[2m21 tests[22m[2m)[22m[90m 89[2mms[22m[39m
[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould throw after max attempts exhausted[22m[39m
â±ï¸  [test-operation] Attempt 2/3 failed, retrying in 21ms: Persistent network error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould throw after max attempts exhausted[22m[39m
âŒ [test-operation] Failed after 3 attempts. Last error: Persistent network error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould throw ApiError with context information[22m[39m
â±ï¸  [updateUser] Attempt 1/3 failed, retrying in 11ms: Connection failed

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould throw ApiError with context information[22m[39m
â±ï¸  [updateUser] Attempt 2/3 failed, retrying in 20ms: Connection failed

 [32mâœ“[39m src/services/__tests__/loggingService.test.js [2m ([22m[2m50 tests[22m[2m)[22m[90m 132[2mms[22m[39m
[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould throw ApiError with context information[22m[39m
âŒ [updateUser] Failed after 3 attempts. Last error: Connection failed

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould handle async operations correctly[22m[39m
â±ï¸  [async-operation] Attempt 1/3 failed, retrying in 9ms: Network error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould handle async operations correctly[22m[39m
<empty line>
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould handle async operations correctly[22m[39m
âœ… [async-operation] Succeeded on attempt 2/3

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould use exponential backoff timing[22m[39m
â±ï¸  [timed-operation] Attempt 1/3 failed, retrying in 10ms: Network error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould use exponential backoff timing[22m[39m
â±ï¸  [timed-operation] Attempt 2/3 failed, retrying in 19ms: Network error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould use exponential backoff timing[22m[39m
<empty line>
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould use exponential backoff timing[22m[39m
âœ… [timed-operation] Succeeded on attempt 3/3

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould handle errors with message property[22m[39m
â±ï¸  [test-operation] Attempt 1/3 failed, retrying in 10ms: Specific failure reason

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould handle errors with message property[22m[39m
â±ï¸  [test-operation] Attempt 2/3 failed, retrying in 20ms: Specific failure reason

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould handle errors with message property[22m[39m
âŒ [test-operation] Failed after 3 attempts. Last error: Specific failure reason

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould log context in thrown error[22m[39m
â±ï¸  [myOperation] Attempt 1/3 failed, retrying in 9ms: Network unavailable

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould log context in thrown error[22m[39m
â±ï¸  [myOperation] Attempt 2/3 failed, retrying in 21ms: Network unavailable

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mexecute[2m > [22m[2mshould log context in thrown error[22m[39m
âŒ [myOperation] Failed after 3 attempts. Last error: Network unavailable

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mretryAsync convenience function[2m > [22m[2mshould work with default configuration[22m[39m
â±ï¸  [test-operation] Attempt 1/3 failed, retrying in 105ms: Network error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mretryAsync convenience function[2m > [22m[2mshould work with default configuration[22m[39m
<empty line>
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mretryAsync convenience function[2m > [22m[2mshould work with default configuration[22m[39m
âœ… [test-operation] Succeeded on attempt 2/3

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mretryAsync convenience function[2m > [22m[2mshould throw after max attempts[22m[39m
â±ï¸  [test-operation] Attempt 1/3 failed, retrying in 98ms: Persistent error

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mgetAllUsers[2m > [22m[2mshould throw error on fetch failure[22m[39m
Error fetching all users: Error: Firestore error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:55:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mgetUserById[2m > [22m[2mshould throw error on fetch failure[22m[39m
Error fetching user: Error: Firestore error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:94:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mupdateUserRole[2m > [22m[2mshould update user role and log activity[22m[39m
Error updating user role: TypeError: Cannot read properties of undefined (reading 'data')
    at UserManagementService.updateUserRole [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\userManagementServices.js:67:19[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:117:22
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:11)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mupdateUserRole[2m > [22m[2mshould throw error for invalid role[22m[39m
Error updating user role: Error: Invalid role: invalid_role
    at UserManagementService.updateUserRole [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\userManagementServices.js:57:15[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:136:32
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mupdateUserRole[2m > [22m[2mshould throw error if user not found[22m[39m
Error updating user role: TypeError: Cannot read properties of undefined (reading 'data')
    at UserManagementService.updateUserRole [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\userManagementServices.js:67:19[90m)[39m

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mlogActivity[2m > [22m[2mshould throw error on log failure[22m[39m
Error logging activity: Error: Failed to log
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:174:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mgetActivityLogs[2m > [22m[2mshould throw error on fetch failure[22m[39m
Error fetching activity logs: Error: Firestore error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:225:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mgetUserActivityHistory[2m > [22m[2mshould throw error on fetch failure[22m[39m
Error fetching user activity history: Error: Firestore error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:256:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mgetAdminActivityHistory[2m > [22m[2mshould throw error on fetch failure[22m[39m
Error fetching admin activity history: Error: Firestore error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:287:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mdeleteUser[2m > [22m[2mshould throw error on delete failure[22m[39m
Error deleting user: Error: Failed to delete
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:322:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mrestoreUser[2m > [22m[2mshould throw error on restore failure[22m[39m
Error restoring user: Error: Failed to restore
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:357:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.test.js[2m > [22m[2mUser Management Services[2m > [22m[2mgetUserStats[2m > [22m[2mshould throw error on fetch failure[22m[39m
Error fetching user stats: Error: Firestore error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.test.js:415:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

 [33mâ¯[39m src/api/admin/__tests__/userManagementServices.test.js [2m ([22m[2m26 tests[22m [2m|[22m [31m2 failed[39m[2m)[22m[90m 117[2mms[22m[39m
[31m   [33mâ¯[31m src/api/admin/__tests__/userManagementServices.test.js[2m > [22mUser Management Services[2m > [22mupdateUserRole[2m > [22mshould update user role and log activity[39m
[31m     â†’ Cannot read properties of undefined (reading 'data')[39m
[31m   [33mâ¯[31m src/api/admin/__tests__/userManagementServices.test.js[2m > [22mUser Management Services[2m > [22mupdateUserRole[2m > [22mshould throw error if user not found[39m
[31m     â†’ expected [Function] to throw error including 'User not found' but got 'Cannot read properties of undefined (â€¦'[39m
[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mretryAsync convenience function[2m > [22m[2mshould throw after max attempts[22m[39m
â±ï¸  [test-operation] Attempt 2/3 failed, retrying in 194ms: Persistent error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mretryAsync convenience function[2m > [22m[2mshould throw after max attempts[22m[39m
âŒ [test-operation] Failed after 3 attempts. Last error: Persistent error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mcreateRetryHandler factory[2m > [22m[2mshould work with custom handler[22m[39m
â±ï¸  [test] Attempt 1/2 failed, retrying in 5ms: Error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mcreateRetryHandler factory[2m > [22m[2mshould work with custom handler[22m[39m
âŒ [test] Failed after 2 attempts. Last error: Error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould handle temporary network failure[22m[39m
â±ï¸  [fetchData] Attempt 1/3 failed, retrying in 9ms: Network error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould handle temporary network failure[22m[39m
â±ï¸  [fetchData] Attempt 2/3 failed, retrying in 21ms: Network error

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould handle temporary network failure[22m[39m
<empty line>
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould handle temporary network failure[22m[39m
âœ… [fetchData] Succeeded on attempt 3/3

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould fail fast on permission error[22m[39m
âŒ [updateDocument] Non-retryable error on attempt 1: Access denied

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould recover from server temporarily unavailable[22m[39m
â±ï¸  [submitForm] Attempt 1/3 failed, retrying in 10ms: Service unavailable

[90mstderr[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould recover from server temporarily unavailable[22m[39m
<empty line>
[90mstdout[2m | src/api/base/__tests__/RetryHandler.test.js[2m > [22m[2mRetryHandler[2m > [22m[2mreal-world scenarios[2m > [22m[2mshould recover from server temporarily unavailable[22m[39m
âœ… [submitForm] Succeeded on attempt 2/3

 [32mâœ“[39m src/api/base/__tests__/RetryHandler.test.js [2m ([22m[2m31 tests[22m[2m)[22m[33m 994[2mms[22m[39m
[90mstderr[2m | functions/src/compliance/__tests__/videoQuestionFunctions.test.js[2m > [22m[2mVideo Question Functions[2m > [22m[2mcheckVideoQuestionAnswer[2m > [22m[2mshould throw error if question not found[22m[39m
{"severity":"ERROR","message":"Error checking video question answer: HttpsError: Question not found\n    at c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\src\\compliance\\videoQuestionFunctions.js:42:15\n    at c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\src\\compliance\\__tests__\\videoQuestionFunctions.test.js:189:9\n    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:781:11)\n    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:909:15)\n    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:909:15)\n    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:909:15)\n    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:958:5)\n    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:967:3)\n    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7\n    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5) {\n  code: 'not-found',\n  details: undefined,\n  httpErrorCode: { canonicalName: 'NOT_FOUND', status: 404 }\n}"}

[90mstderr[2m | functions/src/compliance/__tests__/videoQuestionFunctions.test.js[2m > [22m[2mVideo Question Functions[2m > [22m[2mgetVideoQuestion[2m > [22m[2mshould handle database errors[22m[39m
{"severity":"ERROR","message":"Error getting video question: Error: Database error\n    at Object.<anonymous> (c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\src\\compliance\\__tests__\\videoQuestionFunctions.test.js:613:41)\n    at Object.mockCall (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/spy/dist/index.js:50:17)\n    at Object.spy (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/tinyspy/dist/index.js:42:80)\n    at c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\src\\compliance\\videoQuestionFunctions.js:111:10\n    at Function.run (c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\node_modules\\firebase-functions\\lib\\common\\onInit.js:28:10)\n    at c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\src\\compliance\\__tests__\\videoQuestionFunctions.test.js:620:32\n    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:60:26\n    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:781:17)\n    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:909:15)"}

[90mstderr[2m | functions/src/compliance/__tests__/videoQuestionFunctions.test.js[2m > [22m[2mVideo Question Functions[2m > [22m[2mrecordVideoQuestionResponse[2m > [22m[2mshould handle database errors[22m[39m
{"severity":"ERROR","message":"Error recording video question response: Error: Database error\n    at Object.<anonymous> (c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\src\\compliance\\__tests__\\videoQuestionFunctions.test.js:913:41)\n    at Object.mockCall (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/spy/dist/index.js:50:17)\n    at Object.spy (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/tinyspy/dist/index.js:42:80)\n    at c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\src\\compliance\\videoQuestionFunctions.js:164:10\n    at Function.run (c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\node_modules\\firebase-functions\\lib\\common\\onInit.js:28:10)\n    at c:\\Users\\Cole\\Documents\\Fastrack\\Fastrack-Learning_Management-System\\functions\\src\\compliance\\__tests__\\videoQuestionFunctions.test.js:927:43\n    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:60:26\n    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:781:17)\n    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/@vitest/runner/dist/index.js:909:15)"}

 [32mâœ“[39m functions/src/compliance/__tests__/videoQuestionFunctions.test.js [2m ([22m[2m36 tests[22m[2m)[22m[90m 118[2mms[22m[39m
 [32mâœ“[39m src/components/common/ErrorBoundary/ErrorBoundary.test.jsx [2m ([22m[2m32 tests[22m[2m)[22m[33m 1269[2mms[22m[39m
 [33mâ¯[39m src/context/ModalContext.test.js [2m ([22m[2m0 test[22m[2m)[22m
[90mstderr[2m | src/components/admin/__tests__/SchedulingManagement.loadingIndicators.test.jsx[2m > [22m[2mSchedulingManagement - Loading Indicators[2m > [22m[2mDelete button loading state[2m > [22m[2mshould clear loading state after deletion error[22m[39m
Error deleting time slot: Error: Delete failed
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\components\admin\__tests__\SchedulingManagement.loadingIndicators.test.jsx:168:58
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:11)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)
    at run (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:105:3)

 [32mâœ“[39m src/context/ModalContext.test.jsx [2m ([22m[2m19 tests[22m[2m)[22m[33m 369[2mms[22m[39m
 [33mâ¯[39m src/components/common/Quiz/Quiz.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32mâœ“[39m src/api/admin/__tests__/analyticsServices.test.js [2m ([22m[2m35 tests[22m[2m)[22m[90m 78[2mms[22m[39m
 [33mâ¯[39m src/api/enrollment/__tests__/enrollmentServices.concurrent.test.js [2m ([22m[2m0 test[22m[2m)[22m
[90mstderr[2m | src/components/admin/__tests__/SchedulingManagement.loadingIndicators.test.jsx[2m > [22m[2mSchedulingManagement - Loading Indicators[2m > [22m[2mUnassign button loading state[2m > [22m[2mshould clear loading state after unassignment error[22m[39m
Error unassigning slot: Error: Unassign failed
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\components\admin\__tests__\SchedulingManagement.loadingIndicators.test.jsx:258:60
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:11)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)
    at run (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:105:3)

 [32mâœ“[39m src/api/base/__tests__/CacheService.test.js [2m ([22m[2m32 tests[22m[2m)[22m[90m 61[2mms[22m[39m
[90mstderr[2m | src/components/admin/tabs/__tests__/UserManagementTab.test.jsx[2m > [22m[2mUserManagementTab[2m > [22m[2mError Handling[2m > [22m[2mshould display error message on load failure[22m[39m
Error loading users: Error: Load failed
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\components\admin\tabs\__tests__\UserManagementTab.test.jsx:552:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

 [33mâ¯[39m functions/src/payment/__tests__/paymentFunctions.test.js [2m ([22m[2m21 tests[22m [2m|[22m [31m8 failed[39m [2m|[22m [33m2 skipped[39m[2m)[22m[90m 174[2mms[22m[39m
[31m   [33mâ¯[31m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould throw error if user not authenticated[39m
[31m     â†’ expected 'Failed to create checkout session: Neâ€¦' to contain 'Authentication required'[39m
[31m   [33mâ¯[31m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould throw error if courseId missing[39m
[31m     â†’ expected 'Failed to create checkout session: Neâ€¦' to contain 'Missing required parameters'[39m
[31m   [33mâ¯[31m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould throw error if amount missing[39m
[31m     â†’ expected 'Failed to create checkout session: Neâ€¦' to contain 'Missing required parameters'[39m
[31m   [33mâ¯[31m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould throw error if paymentType missing[39m
[31m     â†’ expected 'Failed to create checkout session: Neâ€¦' to contain 'Missing required parameters'[39m
[31m   [33mâ¯[31m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould throw error if user not authenticated[39m
[31m     â†’ expected 'Failed to create payment intent: Neitâ€¦' to contain 'Authentication required'[39m
[31m   [33mâ¯[31m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould throw error if courseId missing[39m
[31m     â†’ expected 'Failed to create payment intent: Neitâ€¦' to contain 'Missing required parameters'[39m
[31m   [33mâ¯[31m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould throw error if amount missing[39m
[31m     â†’ expected 'Failed to create payment intent: Neitâ€¦' to contain 'Missing required parameters'[39m
[31m   [33mâ¯[31m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould throw error if paymentType missing[39m
[31m     â†’ expected 'Failed to create payment intent: Neitâ€¦' to contain 'Missing required parameters'[39m
[90mstderr[2m | functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould throw error if user not authenticated[22m[39m
Error creating checkout session: Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:158:23[90m)[39m
    at new Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:96:14[90m)[39m
    at Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:52:20[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\paymentFunctions.js:86:28
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\__tests__\paymentFunctions.test.js:84:37
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

[90mstderr[2m | functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould throw error if courseId missing[22m[39m
Error creating checkout session: Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:158:23[90m)[39m
    at new Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:96:14[90m)[39m
    at Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:52:20[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\paymentFunctions.js:86:28
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\__tests__\paymentFunctions.test.js:98:37
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

[90mstderr[2m | functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould throw error if amount missing[22m[39m
Error creating checkout session: Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:158:23[90m)[39m
    at new Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:96:14[90m)[39m
    at Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:52:20[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\paymentFunctions.js:86:28
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\__tests__\paymentFunctions.test.js:112:37
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

[90mstderr[2m | functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould throw error if paymentType missing[22m[39m
Error creating checkout session: Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:158:23[90m)[39m
    at new Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:96:14[90m)[39m
    at Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:52:20[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\paymentFunctions.js:86:28
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\__tests__\paymentFunctions.test.js:126:37
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

[90mstderr[2m | functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould throw error if user not authenticated[22m[39m
Error creating payment intent: Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:158:23[90m)[39m
    at new Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:96:14[90m)[39m
    at Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:52:20[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\paymentFunctions.js:145:28
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\__tests__\paymentFunctions.test.js:162:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

[90mstderr[2m | functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould throw error if courseId missing[22m[39m
Error creating payment intent: Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:158:23[90m)[39m
    at new Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:96:14[90m)[39m
    at Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:52:20[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\paymentFunctions.js:145:28
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\__tests__\paymentFunctions.test.js:176:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

[90mstderr[2m | functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould throw error if amount missing[22m[39m
Error creating payment intent: Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:158:23[90m)[39m
    at new Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:96:14[90m)[39m
    at Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:52:20[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\paymentFunctions.js:145:28
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\__tests__\paymentFunctions.test.js:190:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

[90mstderr[2m | functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould throw error if paymentType missing[22m[39m
Error creating payment intent: Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:158:23[90m)[39m
    at new Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:96:14[90m)[39m
    at Stripe [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mstripe[24m\cjs\stripe.core.js:52:20[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\paymentFunctions.js:145:28
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\payment\__tests__\paymentFunctions.test.js:204:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

 [32mâœ“[39m src/hooks/useSessionTimer.test.js [2m ([22m[2m26 tests[22m[2m)[22m[90m 63[2mms[22m[39m
[90mstderr[2m | src/components/admin/tabs/__tests__/UserManagementTab.test.jsx[2m > [22m[2mUserManagementTab[2m > [22m[2mError Handling[2m > [22m[2mshould display error on role change failure[22m[39m
Error changing user role: Error: Role change failed
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\components\admin\tabs\__tests__\UserManagementTab.test.jsx:563:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/components/admin/tabs/__tests__/UserManagementTab.test.jsx[2m > [22m[2mUserManagementTab[2m > [22m[2mError Handling[2m > [22m[2mshould display error on activity logs load failure[22m[39m
Error loading activity logs: Error: Logs load failed
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\components\admin\tabs\__tests__\UserManagementTab.test.jsx:588:21
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

 [32mâœ“[39m src/components/admin/tabs/__tests__/UserManagementTab.test.jsx [2m ([22m[2m28 tests[22m[2m)[22m[33m 3411[2mms[22m[39m
Cannot parse C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/src/context/CourseContext.test.js:
Expression expected
 [33mâ¯[39m src/context/CourseContext.test.js [2m ([22m[2m0 test[22m[2m)[22m
[90mstderr[2m | src/context/CourseContext.test.jsx[2m > [22m[2mCourseContext[2m > [22m[2museCourse hook[2m > [22m[2mshould provide course context inside CourseProvider[22m[39m
An update to CourseProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to CourseProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/context/CourseContext.test.jsx[2m > [22m[2mCourseContext[2m > [22m[2mCourseProvider[2m > [22m[2mshould render children[22m[39m
An update to CourseProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to CourseProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/context/CourseContext.test.jsx [2m ([22m[2m18 tests[22m[2m)[22m[90m 283[2mms[22m[39m
 [32mâœ“[39m src/components/admin/tabs/__tests__/AnalyticsTab.test.jsx [2m ([22m[2m30 tests[22m[2m)[22m[33m 1542[2mms[22m[39m
 [32mâœ“[39m src/api/enrollment/__tests__/enrollmentServices.reset.test.js [2m ([22m[2m19 tests[22m[2m)[22m[90m 58[2mms[22m[39m
 [32mâœ“[39m src/components/admin/__tests__/SchedulingManagement.loadingIndicators.test.jsx [2m ([22m[2m16 tests[22m[2m)[22m[33m 4585[2mms[22m[39m
 [32mâœ“[39m src/__tests__/firestore.rules.test.js [2m ([22m[2m25 tests[22m[2m)[22m[90m 60[2mms[22m[39m
[90mstderr[2m | src/pages/Admin/__tests__/AdminPage.comprehensive.test.jsx[2m > [22m[2mAdminPage - Comprehensive Integration Tests[2m > [22m[2mEnrollment Management Tab[2m > [22m[2mshould handle reset enrollment error[22m[39m
Error resetting enrollment: Error: Reset failed
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\pages\Admin\__tests__\AdminPage.comprehensive.test.jsx:282:28
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

Cannot parse C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/src/pages/Admin/__tests__/AdminPage.userManagement.integration.test.js:
Expression expected
 [33mâ¯[39m src/pages/Admin/__tests__/AdminPage.userManagement.integration.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32mâœ“[39m src/constants/__tests__/userRoles.assignment.test.js [2m ([22m[2m35 tests[22m[2m)[22m[90m 19[2mms[22m[39m
Cannot parse C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/src/components/admin/tabs/__tests__/UserManagementTab.createUser.integration.test.js:
Expression expected
 [32mâœ“[39m src/api/enrollment/__tests__/enrollmentServices.refactor.test.js [2m ([22m[2m13 tests[22m[2m)[22m[90m 32[2mms[22m[39m
 [33mâ¯[39m src/components/admin/tabs/__tests__/UserManagementTab.createUser.integration.test.js [2m ([22m[2m0 test[22m[2m)[22m
[90mstderr[2m | src/pages/Admin/__tests__/AdminPage.comprehensive.test.jsx[2m > [22m[2mAdminPage - Comprehensive Integration Tests[2m > [22m[2mError Handling[2m > [22m[2mshould handle enrollment data load error[22m[39m
Error loading users: Error: Failed to load users
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\pages\Admin\__tests__\AdminPage.comprehensive.test.jsx:521:28
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

[90mstderr[2m | src/pages/Admin/__tests__/AdminPage.comprehensive.test.jsx[2m > [22m[2mAdminPage - Comprehensive Integration Tests[2m > [22m[2mError Handling[2m > [22m[2mshould show error message when API fails[22m[39m
Error loading users: Error: Network error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\pages\Admin\__tests__\AdminPage.comprehensive.test.jsx:533:28
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
[90m    at runNextTicks (node:internal/process/task_queues:65:5)[39m
[90m    at listOnTimeout (node:internal/timers:549:9)[39m
[90m    at processTimers (node:internal/timers:523:7)[39m
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)

[90mstderr[2m | src/pages/Admin/__tests__/AdminPage.comprehensive.test.jsx[2m > [22m[2mAdminPage - Comprehensive Integration Tests[2m > [22m[2mError Handling[2m > [22m[2mshould recover from error state[22m[39m
Error loading users: Error: Initial error
    at Object.<anonymous> [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\pages\Admin\__tests__\AdminPage.comprehensive.test.jsx:547:33[90m)[39m
    at Object.mockCall [90m(file:///c:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/[39mnode_modules/[4m@vitest/spy[24m/dist/index.js:50:17[90m)[39m
    at Object.spy [as getAllUsersWithEnrollments] [90m(file:///c:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/[39mnode_modules/[4mtinyspy[24m/dist/index.js:42:80[90m)[39m
    at loadUsers [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\pages\Admin\AdminPage.jsx:31:50[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\pages\Admin\AdminPage.jsx:24:5
    at Object.react_stack_bottom_frame [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:15484:13[90m)[39m

Cannot parse C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/src/context/AuthContext.test.js:
Expression expected
 [33mâ¯[39m src/context/AuthContext.test.js [2m ([22m[2m0 test[22m[2m)[22m
[90mstderr[2m | functions/src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if user not authenticated[22m[39m
Error generating certificate: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\certificateFunctions.js:9:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\__tests__\certificateFunctions.test.js:40:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | functions/src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if userId missing[22m[39m
Error generating certificate: Error: Missing required parameters: userId, courseId
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\certificateFunctions.js:16:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\__tests__\certificateFunctions.test.js:51:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | functions/src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if courseId missing[22m[39m
Error generating certificate: Error: Missing required parameters: userId, courseId
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\certificateFunctions.js:16:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\__tests__\certificateFunctions.test.js:62:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | functions/src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if enrollment not found[22m[39m
Error generating certificate: Error: Enrollment not found
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\certificateFunctions.js:23:13
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\__tests__\certificateFunctions.test.js:86:9
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:11)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

[90mstderr[2m | functions/src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if payment not completed[22m[39m
Error generating certificate: Error: Payment not completed. Cannot generate certificate.
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\certificateFunctions.js:29:13
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\__tests__\certificateFunctions.test.js:118:9
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:11)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

[90mstderr[2m | functions/src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if course not found[22m[39m
Error generating certificate: Error: Course not found
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\certificateFunctions.js:36:13
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\certificate\__tests__\certificateFunctions.test.js:159:9
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:11)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

 [32mâœ“[39m functions/src/certificate/__tests__/certificateFunctions.test.js [2m ([22m[2m8 tests[22m[2m)[22m[90m 75[2mms[22m[39m
[90mstderr[2m | functions/src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould throw error if email missing[22m[39m
Error creating user: Error: Missing required fields: email, password, displayName
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\user\userFunctions.js:12:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\user\__tests__\userFunctions.test.js:74:26
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | functions/src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould throw error if password missing[22m[39m
Error creating user: Error: Missing required fields: email, password, displayName
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\user\userFunctions.js:12:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\user\__tests__\userFunctions.test.js:88:26
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | functions/src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould throw error if displayName missing[22m[39m
Error creating user: Error: Missing required fields: email, password, displayName
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\user\userFunctions.js:12:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\user\__tests__\userFunctions.test.js:102:26
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

 [32mâœ“[39m src/context/AuthContext.test.jsx [2m ([22m[2m14 tests[22m[2m)[22m[33m 366[2mms[22m[39m
Cannot parse C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/src/components/auth/__tests__/ForcePasswordChangeModal.integration.test.js:
Expression expected
 [33mâ¯[39m src/components/auth/__tests__/ForcePasswordChangeModal.integration.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32mâœ“[39m src/api/enrollment/__tests__/enrollmentServices.checkCourseAccess.test.js [2m ([22m[2m9 tests[22m[2m)[22m[90m 64[2mms[22m[39m
 [32mâœ“[39m src/api/student/__tests__/userServices.getAllStudents.test.js [2m ([22m[2m6 tests[22m[2m)[22m[90m 24[2mms[22m[39m
Cannot parse C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/src/pages/CoursePlayer/CoursePlayerPage.quiz.integration.test.js:
Expression expected
(node:15596) MetadataLookupWarning: received unexpected error = fetch failed code = UNKNOWN
(Use `node --trace-warnings ...` to show where the warning was created)
 [33mâ¯[39m src/pages/CoursePlayer/CoursePlayerPage.quiz.integration.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32mâœ“[39m src/pages/Admin/__tests__/AdminPage.comprehensive.test.jsx [2m ([22m[2m36 tests[22m[2m)[22m[33m 7414[2mms[22m[39m
[90mstderr[2m | functions/src/compliance/sessionHeartbeat.test.js[2m > [22m[2msessionHeartbeat Cloud Function[2m > [22m[2mshould throw error if not authenticated[22m[39m
Error processing session heartbeat: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\complianceFunctions.js:147:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\sessionHeartbeat.test.js:89:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
Failed to log audit event: ReferenceError: data is not defined
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\complianceFunctions.js:304:49
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\sessionHeartbeat.test.js:89:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)

[90mstderr[2m | functions/src/compliance/sessionHeartbeat.test.js[2m > [22m[2msessionHeartbeat Cloud Function[2m > [22m[2mshould throw error if userId is missing[22m[39m
Error processing session heartbeat: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\complianceFunctions.js:147:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\sessionHeartbeat.test.js:103:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
Failed to log audit event: ReferenceError: data is not defined
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\complianceFunctions.js:304:49
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\sessionHeartbeat.test.js:103:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)

[90mstderr[2m | functions/src/compliance/sessionHeartbeat.test.js[2m > [22m[2msessionHeartbeat Cloud Function[2m > [22m[2mshould throw error if user ID does not match authenticated user[22m[39m
Error processing session heartbeat: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\complianceFunctions.js:147:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\sessionHeartbeat.test.js:117:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
Failed to log audit event: ReferenceError: data is not defined
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\complianceFunctions.js:304:49
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\node_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\compliance\sessionHeartbeat.test.js:117:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)

 [32mâœ“[39m functions/src/compliance/sessionHeartbeat.test.js [2m ([22m[2m11 tests[22m[2m)[22m[90m 44[2mms[22m[39m
[90mstderr[2m | src/hooks/useComplianceHeartbeat.test.js[2m > [22m[2museComplianceHeartbeat[2m > [22m[2mshould call onLimitReached when daily limit is exceeded[22m[39m
Heartbeat error: {
  code: [32m'functions/resource-exhausted'[39m,
  message: [32m'DAILY_LIMIT_REACHED: You have reached the 4-hour daily training limit'[39m
}

 [32mâœ“[39m src/api/admin/__tests__/userManagementServices.createUserFunction.test.js [2m ([22m[2m9 tests[22m[2m)[22m[90m 33[2mms[22m[39m
[90mstderr[2m | src/api/admin/__tests__/userManagementServices.createUserFunction.test.js[2m > [22m[2mUser Management - createUser Function[2m > [22m[2mshould handle Cloud Function errors[22m[39m
Error creating user: Error: Failed to create user: Email already exists
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.createUserFunction.test.js:84:19
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.createUserFunction.test.js[2m > [22m[2mUser Management - createUser Function[2m > [22m[2mshould handle authentication errors[22m[39m
Error creating user: Error: User must be authenticated
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.createUserFunction.test.js:98:36
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.createUserFunction.test.js[2m > [22m[2mUser Management - createUser Function[2m > [22m[2mshould handle permission errors for non-super-admins[22m[39m
Error creating user: Error: Only Super Admins can create users
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.createUserFunction.test.js:106:36
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

[90mstderr[2m | src/api/admin/__tests__/userManagementServices.createUserFunction.test.js[2m > [22m[2mUser Management - createUser Function[2m > [22m[2mshould handle network errors[22m[39m
Error creating user: Error: Network error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\api\admin\__tests__\userManagementServices.createUserFunction.test.js:131:36
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

 [32mâœ“[39m src/utils/__tests__/dateTimeFormatter.test.js [2m ([22m[2m11 tests[22m[2m)[22m[90m 11[2mms[22m[39m
[90mstderr[2m | src/hooks/useComplianceHeartbeat.test.js[2m > [22m[2museComplianceHeartbeat[2m > [22m[2mshould call onHeartbeatError callback on error[22m[39m
Heartbeat error: Error: Network error
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39msrc\hooks\useComplianceHeartbeat.test.js:169:19
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

 [32mâœ“[39m src/hooks/useComplianceHeartbeat.test.js [2m ([22m[2m6 tests[22m[2m)[22m[90m 82[2mms[22m[39m
 [32mâœ“[39m src/context/TimerContext.test.jsx [2m ([22m[2m30 tests[22m[2m)[22m[33m 421[2mms[22m[39m
Cannot parse C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/src/components/admin/__tests__/SchedulingManagement.assignment.test.js:
Expression expected
 [33mâ¯[39m src/components/admin/__tests__/SchedulingManagement.assignment.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [33mâ¯[39m src/services/__tests__/errorTrackingService.test.js [2m ([22m[2m0 test[22m[2m)[22m
 [32mâœ“[39m src/api/compliance/__tests__/schedulingServices.assignment.test.js [2m ([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
(node:15596) MetadataLookupWarning: received unexpected error = fetch failed code = UNKNOWN
(node:15596) MetadataLookupWarning: received unexpected error = fetch failed code = UNKNOWN
[90mstderr[2m | functions/src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould handle auth creation errors[22m[39m
Error creating user: Error: Email already exists
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\[39mfunctions\src\user\__tests__\userFunctions.test.js:227:9
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4mvitest[24m/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

 [33mâ¯[39m functions/src/user/__tests__/userFunctions.test.js [2m ([22m[2m11 tests[22m [2m|[22m [31m2 failed[39m [2m|[22m [33m5 skipped[39m[2m)[22m[33m 20054[2mms[22m[39m
[31m   [33mâ¯[31m functions/src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould log audit event on user creation[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [33mâ¯[31m functions/src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould return user document in response[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Suites 11 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[31m[1m[7m FAIL [27m[22m[39m src/context/AuthContext.test.js [2m[ src/context/AuthContext.test.js ][22m
[31m[1m[7m FAIL [27m[22m[39m src/context/CourseContext.test.js [2m[ src/context/CourseContext.test.js ][22m
[31m[1m[7m FAIL [27m[22m[39m src/context/ModalContext.test.js [2m[ src/context/ModalContext.test.js ][22m
[31m[1m[7m FAIL [27m[22m[39m src/pages/CoursePlayer/CoursePlayerPage.quiz.integration.test.js [2m[ src/pages/CoursePlayer/CoursePlayerPage.quiz.integration.test.js ][22m
[31m[1m[7m FAIL [27m[22m[39m src/components/auth/__tests__/ForcePasswordChangeModal.integration.test.js [2m[ src/components/auth/__tests__/ForcePasswordChangeModal.integration.test.js ][22m
[31m[1m[7m FAIL [27m[22m[39m src/pages/Admin/__tests__/AdminPage.userManagement.integration.test.js [2m[ src/pages/Admin/__tests__/AdminPage.userManagement.integration.test.js ][22m
[31m[1mError[22m: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.[39m
[90m [2mâ¯[22m TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49258:41[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49253:16[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64259:14[22m[39m
[90m [2mâ¯[22m PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49099:18[22m[39m
[90m [2mâ¯[22m loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m51978:27[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/__tests__/errorTrackingService.test.js [2m[ src/services/__tests__/errorTrackingService.test.js ][22m
[31m[1mError[22m: No test suite found in file C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/src/services/__tests__/errorTrackingService.test.js[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/api/enrollment/__tests__/enrollmentServices.concurrent.test.js [2m[ src/api/enrollment/__tests__/enrollmentServices.concurrent.test.js ][22m
[31m[1mError[22m: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock[39m
[90m [2mâ¯[22m src/api/enrollment/enrollmentServices.js:[2m3:31[22m[39m

[31m[1mCaused by: ReferenceError[22m: Cannot access '__vi_import_1__' before initialization[39m
[90m [2mâ¯[22m src/api/enrollment/__tests__/enrollmentServices.concurrent.test.js:[2m38:22[22m[39m
[90m [2mâ¯[22m src/api/enrollment/enrollmentServices.js:[2m3:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/components/admin/__tests__/SchedulingManagement.assignment.test.js [2m[ src/components/admin/__tests__/SchedulingManagement.assignment.test.js ][22m
[31m[1m[7m FAIL [27m[22m[39m src/components/common/Quiz/Quiz.test.js [2m[ src/components/common/Quiz/Quiz.test.js ][22m
[31m[1m[7m FAIL [27m[22m[39m src/components/admin/tabs/__tests__/UserManagementTab.createUser.integration.test.js [2m[ src/components/admin/tabs/__tests__/UserManagementTab.createUser.integration.test.js ][22m
[31m[1mError[22m: Expression expected[39m
[90m [2mâ¯[22m getRollupError node_modules/vite/node_modules/rollup/dist/es/shared/parseAst.js:[2m401:41[22m[39m
[90m [2mâ¯[22m convertProgram node_modules/vite/node_modules/rollup/dist/es/shared/parseAst.js:[2m1098:26[22m[39m
[90m [2mâ¯[22m parseAstAsync node_modules/vite/node_modules/rollup/dist/es/shared/parseAst.js:[2m2084:106[22m[39m
[90m [2mâ¯[22m ssrTransformScript node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m52430:11[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/23]âŽ¯[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Tests 12 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould throw error if user not authenticated
[31m[1mAssertionError[22m: expected 'Failed to create checkout session: Neâ€¦' to contain 'Authentication required'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Authentication required[39m
[31m+ Failed to create checkout session: Neither apiKey nor config.authenticator provided[39m

[90m [2mâ¯[22m functions/src/payment/__tests__/paymentFunctions.test.js:[2m87:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould throw error if courseId missing
[31m[1mAssertionError[22m: expected 'Failed to create checkout session: Neâ€¦' to contain 'Missing required parameters'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Missing required parameters[39m
[31m+ Failed to create checkout session: Neither apiKey nor config.authenticator provided[39m

[90m [2mâ¯[22m functions/src/payment/__tests__/paymentFunctions.test.js:[2m101:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould throw error if amount missing
[31m[1mAssertionError[22m: expected 'Failed to create checkout session: Neâ€¦' to contain 'Missing required parameters'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Missing required parameters[39m
[31m+ Failed to create checkout session: Neither apiKey nor config.authenticator provided[39m

[90m [2mâ¯[22m functions/src/payment/__tests__/paymentFunctions.test.js:[2m115:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould throw error if paymentType missing
[31m[1mAssertionError[22m: expected 'Failed to create checkout session: Neâ€¦' to contain 'Missing required parameters'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Missing required parameters[39m
[31m+ Failed to create checkout session: Neither apiKey nor config.authenticator provided[39m

[90m [2mâ¯[22m functions/src/payment/__tests__/paymentFunctions.test.js:[2m129:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould throw error if user not authenticated
[31m[1mAssertionError[22m: expected 'Failed to create payment intent: Neitâ€¦' to contain 'Authentication required'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Authentication required[39m
[31m+ Failed to create payment intent: Neither apiKey nor config.authenticator provided[39m

[90m [2mâ¯[22m functions/src/payment/__tests__/paymentFunctions.test.js:[2m165:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould throw error if courseId missing
[31m[1mAssertionError[22m: expected 'Failed to create payment intent: Neitâ€¦' to contain 'Missing required parameters'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Missing required parameters[39m
[31m+ Failed to create payment intent: Neither apiKey nor config.authenticator provided[39m

[90m [2mâ¯[22m functions/src/payment/__tests__/paymentFunctions.test.js:[2m179:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould throw error if amount missing
[31m[1mAssertionError[22m: expected 'Failed to create payment intent: Neitâ€¦' to contain 'Missing required parameters'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Missing required parameters[39m
[31m+ Failed to create payment intent: Neither apiKey nor config.authenticator provided[39m

[90m [2mâ¯[22m functions/src/payment/__tests__/paymentFunctions.test.js:[2m193:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould throw error if paymentType missing
[31m[1mAssertionError[22m: expected 'Failed to create payment intent: Neitâ€¦' to contain 'Missing required parameters'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Missing required parameters[39m
[31m+ Failed to create payment intent: Neither apiKey nor config.authenticator provided[39m

[90m [2mâ¯[22m functions/src/payment/__tests__/paymentFunctions.test.js:[2m207:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m functions/src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould log audit event on user creation
[31m[1m[7m FAIL [27m[22m[39m functions/src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould return user document in response
[31m[1mError[22m: Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/api/admin/__tests__/userManagementServices.test.js[2m > [22mUser Management Services[2m > [22mupdateUserRole[2m > [22mshould update user role and log activity
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'data')[39m
[90m [2mâ¯[22m UserManagementService.updateUserRole src/api/admin/userManagementServices.js:[2m67:19[22m[39m
[90m [2mâ¯[22m src/api/admin/__tests__/userManagementServices.test.js:[2m117:22[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/23]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/api/admin/__tests__/userManagementServices.test.js[2m > [22mUser Management Services[2m > [22mupdateUserRole[2m > [22mshould throw error if user not found
[31m[1mAssertionError[22m: expected [Function] to throw error including 'User not found' but got 'Cannot read properties of undefined (â€¦'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- User not found[39m
[31m+ Cannot read properties of undefined (reading 'data')[39m

[90m [2mâ¯[22m src/api/admin/__tests__/userManagementServices.test.js:[2m147:7[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/23]âŽ¯[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Unhandled Errors [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1m
Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Uncaught Exception [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1mError[22m: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.[39m
[90m [2mâ¯[22m GoogleAuth.getApplicationDefaultAsync functions/node_modules/google-auth-library/build/src/auth/googleauth.js:[2m287:15[22m[39m
[90m [2mâ¯[22m GoogleAuth._GoogleAuth_determineClient functions/node_modules/google-auth-library/build/src/auth/googleauth.js:[2m834:32[22m[39m
[90m [2mâ¯[22m GoogleAuth.getClient functions/node_modules/google-auth-library/build/src/auth/googleauth.js:[2m698:20[22m[39m
[90m [2mâ¯[22m GrpcClient.createStub functions/node_modules/google-gax/src/fallback.ts:[2m285:28[22m[39m

[31mThis error originated in "[1mfunctions/src/user/__tests__/userFunctions.test.js[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould log audit event on user creation[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Uncaught Exception [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1mError[22m: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.[39m
[90m [2mâ¯[22m GoogleAuth.getApplicationDefaultAsync functions/node_modules/google-auth-library/build/src/auth/googleauth.js:[2m287:15[22m[39m
[90m [2mâ¯[22m GoogleAuth._GoogleAuth_determineClient functions/node_modules/google-auth-library/build/src/auth/googleauth.js:[2m834:32[22m[39m
[90m [2mâ¯[22m GoogleAuth.getClient functions/node_modules/google-auth-library/build/src/auth/googleauth.js:[2m698:20[22m[39m
[90m [2mâ¯[22m GrpcClient.createStub functions/node_modules/google-gax/src/fallback.ts:[2m285:28[22m[39m

[31mThis error originated in "[1mfunctions/src/user/__tests__/userFunctions.test.js[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould return user document in response[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m
[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[2m Test Files [22m [1m[31m14 failed[39m[22m[2m | [22m[1m[32m34 passed[39m[22m[90m (48)[39m
[2m      Tests [22m [1m[31m12 failed[39m[22m[2m | [22m[1m[32m897 passed[39m[22m[2m | [22m[33m7 skipped[39m[90m (916)[39m
[2m     Errors [22m [1m[31m2 errors[39m[22m
[2m   Start at [22m 15:34:56
[2m   Duration [22m 35.23s[2m (transform 5.29s, setup 34.39s, collect 27.26s, tests 42.54s, environment 106.96s, prepare 28.06s)[22m

