
> test
> vitest run

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

[7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90mc:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/functions[39m

[90mstderr[2m | src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if user not authenticated[22m[39m
Error generating certificate: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\certificateFunctions.js:9:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\__tests__\certificateFunctions.test.js:60:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if userId missing[22m[39m
Error generating certificate: Error: Missing required parameters: userId, courseId
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\certificateFunctions.js:16:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\__tests__\certificateFunctions.test.js:71:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if courseId missing[22m[39m
Error generating certificate: Error: Missing required parameters: userId, courseId
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\certificateFunctions.js:16:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\__tests__\certificateFunctions.test.js:82:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if enrollment not found[22m[39m
Error generating certificate: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:222:36[90m)[39m
    at getFirestore [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\firestore\index.js:52:90[90m)[39m
    at getDb [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:9:14[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\certificateFunctions.js:19:27
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\__tests__\certificateFunctions.test.js:104:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17) {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if payment not completed[22m[39m
Error generating certificate: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:222:36[90m)[39m
    at getFirestore [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\firestore\index.js:52:90[90m)[39m
    at getDb [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:9:14[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\certificateFunctions.js:19:27
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\__tests__\certificateFunctions.test.js:135:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17) {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould throw error if course not found[22m[39m
Error generating certificate: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:222:36[90m)[39m
    at getFirestore [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\firestore\index.js:52:90[90m)[39m
    at getDb [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:9:14[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\certificateFunctions.js:19:27
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\__tests__\certificateFunctions.test.js:175:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17) {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould generate certificate successfully[22m[39m
Error generating certificate: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:222:36[90m)[39m
    at getFirestore [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\firestore\index.js:52:90[90m)[39m
    at getDb [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:9:14[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\certificateFunctions.js:19:27
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\__tests__\certificateFunctions.test.js:227:48
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17) {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/certificate/__tests__/certificateFunctions.test.js[2m > [22m[2mCertificate Functions[2m > [22m[2mgenerateCertificate[2m > [22m[2mshould include proper certificate fields[22m[39m
Error generating certificate: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:222:36[90m)[39m
    at getFirestore [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\firestore\index.js:52:90[90m)[39m
    at getDb [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:9:14[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\certificateFunctions.js:19:27
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\certificate\__tests__\certificateFunctions.test.js:273:48
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17) {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

 [33mâ¯[39m src/certificate/__tests__/certificateFunctions.test.js [2m ([22m[2m8 tests[22m [2m|[22m [31m5 failed[39m[2m)[22m[90m 131[2mms[22m[39m
[31m   [33mâ¯[31m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould throw error if enrollment not found[39m
[31m     â†’ expected 'Failed to generate certificate: The dâ€¦' to contain 'Enrollment not found'[39m
[31m   [33mâ¯[31m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould throw error if payment not completed[39m
[31m     â†’ expected 'Failed to generate certificate: The dâ€¦' to contain 'Payment not completed'[39m
[31m   [33mâ¯[31m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould throw error if course not found[39m
[31m     â†’ expected 'Failed to generate certificate: The dâ€¦' to contain 'Course not found'[39m
[31m   [33mâ¯[31m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould generate certificate successfully[39m
[31m     â†’ Failed to generate certificate: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould include proper certificate fields[39m
[31m     â†’ Failed to generate certificate: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
 [33mâ¯[39m src/payment/__tests__/paymentFunctions.test.js [2m ([22m[2m21 tests[22m [2m|[22m [31m8 failed[39m[2m)[22m[90m 145[2mms[22m[39m
[31m   [33mâ¯[31m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould create checkout session successfully[39m
[31m     â†’ Failed to create checkout session: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould create payment intent successfully[39m
[31m     â†’ Failed to create payment intent: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mhandleCheckoutSessionCompleted[2m > [22mshould update enrollment after successful checkout[39m
[31m     â†’ The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mhandlePaymentIntentSucceeded[2m > [22mshould update enrollment after successful payment intent[39m
[31m     â†’ The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mhandlePaymentIntentFailed[2m > [22mshould update payment status to failed[39m
[31m     â†’ The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mupdateEnrollmentAfterPayment[2m > [22mshould create new enrollment if not exists[39m
[31m     â†’ The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mupdateEnrollmentAfterPayment[2m > [22mshould update existing enrollment if exists[39m
[31m     â†’ The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mupdateEnrollmentAfterPayment[2m > [22mshould set correct payment amount in cents[39m
[31m     â†’ The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould throw error if user not authenticated[22m[39m
Error creating checkout session: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:89:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:104:37
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould throw error if courseId missing[22m[39m
Error creating checkout session: Error: Missing required parameters
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:96:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:118:37
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould throw error if amount missing[22m[39m
Error creating checkout session: Error: Missing required parameters
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:96:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:132:37
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould throw error if paymentType missing[22m[39m
Error creating checkout session: Error: Missing required parameters
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:96:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:146:37
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreateCheckoutSession[2m > [22m[2mshould create checkout session successfully[22m[39m
Error creating checkout session: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:222:36[90m)[39m
    at getFirestore [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\firestore\index.js:52:90[90m)[39m
    at getDb [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:9:14[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:99:32
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:166:50
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17) {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould throw error if user not authenticated[22m[39m
Error creating payment intent: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:148:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:181:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould throw error if courseId missing[22m[39m
Error creating payment intent: Error: Missing required parameters
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:155:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:195:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould throw error if amount missing[22m[39m
Error creating payment intent: Error: Missing required parameters
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:155:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:209:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould throw error if paymentType missing[22m[39m
Error creating payment intent: Error: Missing required parameters
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:155:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:223:35
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/payment/__tests__/paymentFunctions.test.js[2m > [22m[2mPayment Functions[2m > [22m[2mcreatePaymentIntent[2m > [22m[2mshould create payment intent successfully[22m[39m
Error creating payment intent: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:222:36[90m)[39m
    at getFirestore [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\firestore\index.js:52:90[90m)[39m
    at getDb [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:9:14[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\paymentFunctions.js:158:32
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\payment\__tests__\paymentFunctions.test.js:241:48
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17) {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould throw error if email missing[22m[39m
Error creating user: Error: Missing required fields: email, password, displayName
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:10:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:104:26
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould throw error if password missing[22m[39m
Error creating user: Error: Missing required fields: email, password, displayName
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:10:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:118:26
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould throw error if displayName missing[22m[39m
Error creating user: Error: Missing required fields: email, password, displayName
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:10:13
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:132:26
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould create user with default role of student[22m[39m
Error creating user: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at FirebaseNamespaceInternals.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:54:35[90m)[39m
    at FirebaseNamespace.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:256:30[90m)[39m
    at FirebaseNamespace.ensureApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:266:24[90m)[39m
    at FirebaseNamespace.fn [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:92:25[90m)[39m
    at getAuth [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:26:22[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:13:30
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:146:39
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14 {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould create user with custom role[22m[39m
Error creating user: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at FirebaseNamespaceInternals.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:54:35[90m)[39m
    at FirebaseNamespace.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:256:30[90m)[39m
    at FirebaseNamespace.ensureApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:266:24[90m)[39m
    at FirebaseNamespace.fn [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:92:25[90m)[39m
    at getAuth [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:26:22[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:13:30
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:160:39
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14 {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould call Firebase auth.createUser with correct parameters[22m[39m
Error creating user: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at FirebaseNamespaceInternals.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:54:35[90m)[39m
    at FirebaseNamespace.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:256:30[90m)[39m
    at FirebaseNamespace.ensureApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:266:24[90m)[39m
    at FirebaseNamespace.fn [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:92:25[90m)[39m
    at getAuth [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:26:22[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:13:30
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:172:24
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14 {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould save user document to Firestore[22m[39m
Error creating user: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at FirebaseNamespaceInternals.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:54:35[90m)[39m
    at FirebaseNamespace.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:256:30[90m)[39m
    at FirebaseNamespace.ensureApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:266:24[90m)[39m
    at FirebaseNamespace.fn [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:92:25[90m)[39m
    at getAuth [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:26:22[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:13:30
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:207:24
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14 {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould include createdAt timestamp[22m[39m
Error creating user: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at FirebaseNamespaceInternals.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:54:35[90m)[39m
    at FirebaseNamespace.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:256:30[90m)[39m
    at FirebaseNamespace.ensureApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:266:24[90m)[39m
    at FirebaseNamespace.fn [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:92:25[90m)[39m
    at getAuth [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:26:22[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:13:30
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:237:24
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14 {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

 [32mâœ“[39m src/compliance/sessionHeartbeat.test.js [2m ([22m[2m11 tests[22m[2m)[22m[90m 14[2mms[22m[39m
[90mstderr[2m | src/compliance/sessionHeartbeat.test.js[2m > [22m[2msessionHeartbeat Cloud Function[2m > [22m[2mshould throw error if not authenticated[22m[39m
Error processing session heartbeat: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\complianceFunctions.js:147:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\sessionHeartbeat.test.js:89:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
Failed to log audit event: ReferenceError: data is not defined
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\complianceFunctions.js:304:49
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\sessionHeartbeat.test.js:89:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)

[90mstderr[2m | src/compliance/sessionHeartbeat.test.js[2m > [22m[2msessionHeartbeat Cloud Function[2m > [22m[2mshould throw error if userId is missing[22m[39m
Error processing session heartbeat: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\complianceFunctions.js:147:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\sessionHeartbeat.test.js:103:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
Failed to log audit event: ReferenceError: data is not defined
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\complianceFunctions.js:304:49
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\sessionHeartbeat.test.js:103:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)

[90mstderr[2m | src/compliance/sessionHeartbeat.test.js[2m > [22m[2msessionHeartbeat Cloud Function[2m > [22m[2mshould throw error if user ID does not match authenticated user[22m[39m
Error processing session heartbeat: Error: Authentication required
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\complianceFunctions.js:147:15
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\sessionHeartbeat.test.js:117:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)
Failed to log audit event: ReferenceError: data is not defined
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\complianceFunctions.js:304:49
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\compliance\sessionHeartbeat.test.js:117:30
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:60:26
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:17)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runSuite (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:909:15)
    at runFiles (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:958:5)
    at startTests (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:967:3)

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould log audit event on user creation[22m[39m
Error creating user: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at FirebaseNamespaceInternals.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:54:35[90m)[39m
    at FirebaseNamespace.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:256:30[90m)[39m
    at FirebaseNamespace.ensureApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:266:24[90m)[39m
    at FirebaseNamespace.fn [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:92:25[90m)[39m
    at getAuth [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:26:22[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:13:30
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:251:24
    at runTest (file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:781:11) {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould handle auth creation errors[22m[39m
Error creating user: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at FirebaseNamespaceInternals.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:54:35[90m)[39m
    at FirebaseNamespace.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:256:30[90m)[39m
    at FirebaseNamespace.ensureApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:266:24[90m)[39m
    at FirebaseNamespace.fn [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:92:25[90m)[39m
    at getAuth [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:26:22[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:13:30
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:267:26
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14 {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

[90mstderr[2m | src/user/__tests__/userFunctions.test.js[2m > [22m[2mUser Functions[2m > [22m[2mcreateUser[2m > [22m[2mshould return user document in response[22m[39m
Error creating user: FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\lifecycle.js:79:19[90m)[39m
    at FirebaseNamespaceInternals.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:54:35[90m)[39m
    at FirebaseNamespace.app [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:256:30[90m)[39m
    at FirebaseNamespace.ensureApp [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:266:24[90m)[39m
    at FirebaseNamespace.fn [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-admin[24m\lib\app\firebase-namespace.js:92:25[90m)[39m
    at getAuth [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\common\firebaseUtils.js:26:22[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\userFunctions.js:13:30
    at Function.run [90m(c:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39mnode_modules\[4mfirebase-functions[24m\lib\common\onInit.js:28:10[90m)[39m
    at [90mc:\Users\Cole\Documents\Fastrack\Fastrack-Learning_Management-System\functions\[39msrc\user\__tests__\userFunctions.test.js:281:39
    at file:///C:/Users/Cole/Documents/Fastrack/Fastrack-Learning_Management-System/node_modules/[4m@vitest/runner[24m/dist/index.js:135:14 {
  errorInfo: {
    code: [32m'app/no-app'[39m,
    message: [32m'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'[39m
  },
  codePrefix: [32m'app'[39m
}

 [33mâ¯[39m src/user/__tests__/userFunctions.test.js [2m ([22m[2m11 tests[22m [2m|[22m [31m7 failed[39m[2m)[22m[90m 44[2mms[22m[39m
[31m   [33mâ¯[31m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould create user with default role of student[39m
[31m     â†’ Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould create user with custom role[39m
[31m     â†’ Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould call Firebase auth.createUser with correct parameters[39m
[31m     â†’ Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould save user document to Firestore[39m
[31m     â†’ Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould include createdAt timestamp[39m
[31m     â†’ Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould log audit event on user creation[39m
[31m     â†’ Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m   [33mâ¯[31m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould return user document in response[39m
[31m     â†’ Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Tests 20 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[31m[1m[7m FAIL [27m[22m[39m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould throw error if enrollment not found
[31m[1mAssertionError[22m: expected 'Failed to generate certificate: The dâ€¦' to contain 'Enrollment not found'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Enrollment not found[39m
[31m+ Failed to generate certificate: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m

[90m [2mâ¯[22m src/certificate/__tests__/certificateFunctions.test.js:[2m107:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould throw error if payment not completed
[31m[1mAssertionError[22m: expected 'Failed to generate certificate: The dâ€¦' to contain 'Payment not completed'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Payment not completed[39m
[31m+ Failed to generate certificate: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m

[90m [2mâ¯[22m src/certificate/__tests__/certificateFunctions.test.js:[2m138:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould throw error if course not found
[31m[1mAssertionError[22m: expected 'Failed to generate certificate: The dâ€¦' to contain 'Course not found'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- Course not found[39m
[31m+ Failed to generate certificate: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m

[90m [2mâ¯[22m src/certificate/__tests__/certificateFunctions.test.js:[2m178:31[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould generate certificate successfully
[31m[1mError[22m: Failed to generate certificate: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/certificate/certificateFunctions.js:[2m60:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/certificate/__tests__/certificateFunctions.test.js:[2m227:48[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/certificate/__tests__/certificateFunctions.test.js[2m > [22mCertificate Functions[2m > [22mgenerateCertificate[2m > [22mshould include proper certificate fields
[31m[1mError[22m: Failed to generate certificate: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/certificate/certificateFunctions.js:[2m60:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/certificate/__tests__/certificateFunctions.test.js:[2m273:48[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreateCheckoutSession[2m > [22mshould create checkout session successfully
[31m[1mError[22m: Failed to create checkout session: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/payment/paymentFunctions.js:[2m136:13[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/payment/__tests__/paymentFunctions.test.js:[2m166:50[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mcreatePaymentIntent[2m > [22mshould create payment intent successfully
[31m[1mError[22m: Failed to create payment intent: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/payment/paymentFunctions.js:[2m181:13[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/payment/__tests__/paymentFunctions.test.js:[2m241:48[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mhandleCheckoutSessionCompleted[2m > [22mshould update enrollment after successful checkout
[31m[1mUnknown Error[22m: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ code: 'app/no-app' }[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mhandlePaymentIntentSucceeded[2m > [22mshould update enrollment after successful payment intent
[31m[1mUnknown Error[22m: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ code: 'app/no-app' }[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mhandlePaymentIntentFailed[2m > [22mshould update payment status to failed
[31m[1mUnknown Error[22m: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ code: 'app/no-app' }[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mupdateEnrollmentAfterPayment[2m > [22mshould create new enrollment if not exists
[31m[1mUnknown Error[22m: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ code: 'app/no-app' }[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mupdateEnrollmentAfterPayment[2m > [22mshould update existing enrollment if exists
[31m[1mUnknown Error[22m: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ code: 'app/no-app' }[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/payment/__tests__/paymentFunctions.test.js[2m > [22mPayment Functions[2m > [22mupdateEnrollmentAfterPayment[2m > [22mshould set correct payment amount in cents
[31m[1mUnknown Error[22m: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ code: 'app/no-app' }[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould create user with default role of student
[31m[1mError[22m: Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/user/userFunctions.js:[2m42:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/user/__tests__/userFunctions.test.js:[2m146:39[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould create user with custom role
[31m[1mError[22m: Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/user/userFunctions.js:[2m42:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/user/__tests__/userFunctions.test.js:[2m160:39[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould call Firebase auth.createUser with correct parameters
[31m[1mError[22m: Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/user/userFunctions.js:[2m42:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/user/__tests__/userFunctions.test.js:[2m172:24[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[16/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould save user document to Firestore
[31m[1mError[22m: Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/user/userFunctions.js:[2m42:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/user/__tests__/userFunctions.test.js:[2m207:24[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[17/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould include createdAt timestamp
[31m[1mError[22m: Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/user/userFunctions.js:[2m42:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/user/__tests__/userFunctions.test.js:[2m237:24[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[18/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould log audit event on user creation
[31m[1mError[22m: Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/user/userFunctions.js:[2m42:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/user/__tests__/userFunctions.test.js:[2m251:24[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[19/20]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/user/__tests__/userFunctions.test.js[2m > [22mUser Functions[2m > [22mcreateUser[2m > [22mshould return user document in response
[31m[1mError[22m: Failed to create user: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.[39m
[90m [2mâ¯[22m src/user/userFunctions.js:[2m42:11[22m[39m
[90m [2mâ¯[22m Function.run node_modules/firebase-functions/lib/common/onInit.js:[2m28:10[22m[39m
[90m [2mâ¯[22m src/user/__tests__/userFunctions.test.js:[2m281:39[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[20/20]âŽ¯[22m[39m

[2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (4)[39m
[2m      Tests [22m [1m[31m20 failed[39m[22m[2m | [22m[1m[32m31 passed[39m[22m[90m (51)[39m
[2m   Start at [22m 17:34:56
[2m   Duration [22m 1.99s[2m (transform 292ms, setup 768ms, collect 3.10s, tests 334ms, environment 1ms, prepare 1.46s)[22m

